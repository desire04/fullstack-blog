{"ast":null,"code":"import{useState}from'react';import axios from'axios';import useUser from'../hooks/useUser';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddCommentForm=_ref=>{let{articleName,onArticleUpdated}=_ref;const[name,setName]=useState('');const[commentText,setCommentText]=useState('');const{user}=useUser();const addComment=async()=>{const token=user&&(await user.getIdToken());const headers=token?{authtoken:token}:{};const response=await axios.post(`/api/articles/${articleName}/comments`,{postedBy:name,text:commentText},{headers});const updatedArticle=response.data;onArticleUpdated(updatedArticle);setName('');setCommentText('');};return/*#__PURE__*/_jsxs(\"div\",{id:\"add-comment-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add a Comment\"}),user&&/*#__PURE__*/_jsxs(\"p\",{children:[\"You are posting as \",user.email]}),/*#__PURE__*/_jsx(\"textarea\",{value:commentText,onChange:e=>setCommentText(e.target.value),rows:\"4\",cols:\"50\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addComment,children:\"Add Comment\"})]});};export default AddCommentForm;","map":{"version":3,"names":["useState","axios","useUser","jsx","_jsx","jsxs","_jsxs","AddCommentForm","_ref","articleName","onArticleUpdated","name","setName","commentText","setCommentText","user","addComment","token","getIdToken","headers","authtoken","response","post","postedBy","text","updatedArticle","data","id","children","email","value","onChange","e","target","rows","cols","onClick"],"sources":["/Users/zahyoo/FullstackBlog/my-blog/src/components/AddCommentForm.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport useUser from '../hooks/useUser';\n\nconst AddCommentForm = ({ articleName, onArticleUpdated }) => {\n    const [name, setName] = useState('');\n    const [commentText, setCommentText] = useState('');\n    const { user }  = useUser();\n\n    const addComment = async ()  => {\n        const token = user && await user.getIdToken();\n        const headers = token ? { authtoken : token } : {};\n        const response = await axios.post(`/api/articles/${articleName}/comments`, {\n            postedBy: name, \n            text: commentText,\n        }, {\n            headers,\n        });\n        const updatedArticle = response.data;\n        onArticleUpdated(updatedArticle);\n        setName('');\n        setCommentText('');\n    }\n    return (\n        <div id=\"add-comment-form\">\n            <h3>Add a Comment</h3>\n            {user && <p>You are posting as {user.email}</p>}\n            <textarea \n                value={commentText}\n                onChange={e => setCommentText(e.target.value)}\n                rows=\"4\" \n                cols=\"50\" />\n            <button onClick={addComment}>Add Comment</button>\n        </div>\n    )\n}\n\nexport default AddCommentForm;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAuC,IAAtC,CAAEC,WAAW,CAAEC,gBAAiB,CAAC,CAAAF,IAAA,CACrD,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAEe,IAAK,CAAC,CAAIb,OAAO,CAAC,CAAC,CAE3B,KAAM,CAAAc,UAAU,CAAG,KAAAA,CAAA,GAAa,CAC5B,KAAM,CAAAC,KAAK,CAAGF,IAAI,GAAI,KAAM,CAAAA,IAAI,CAACG,UAAU,CAAC,CAAC,EAC7C,KAAM,CAAAC,OAAO,CAAGF,KAAK,CAAG,CAAEG,SAAS,CAAGH,KAAM,CAAC,CAAG,CAAC,CAAC,CAClD,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,IAAI,CAAC,iBAAiBb,WAAW,WAAW,CAAE,CACvEc,QAAQ,CAAEZ,IAAI,CACda,IAAI,CAAEX,WACV,CAAC,CAAE,CACCM,OACJ,CAAC,CAAC,CACF,KAAM,CAAAM,cAAc,CAAGJ,QAAQ,CAACK,IAAI,CACpChB,gBAAgB,CAACe,cAAc,CAAC,CAChCb,OAAO,CAAC,EAAE,CAAC,CACXE,cAAc,CAAC,EAAE,CAAC,CACtB,CAAC,CACD,mBACIR,KAAA,QAAKqB,EAAE,CAAC,kBAAkB,CAAAC,QAAA,eACtBxB,IAAA,OAAAwB,QAAA,CAAI,eAAa,CAAI,CAAC,CACrBb,IAAI,eAAIT,KAAA,MAAAsB,QAAA,EAAG,qBAAmB,CAACb,IAAI,CAACc,KAAK,EAAI,CAAC,cAC/CzB,IAAA,aACI0B,KAAK,CAAEjB,WAAY,CACnBkB,QAAQ,CAAEC,CAAC,EAAIlB,cAAc,CAACkB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9CI,IAAI,CAAC,GAAG,CACRC,IAAI,CAAC,IAAI,CAAE,CAAC,cAChB/B,IAAA,WAAQgC,OAAO,CAAEpB,UAAW,CAAAY,QAAA,CAAC,aAAW,CAAQ,CAAC,EAChD,CAAC,CAEd,CAAC,CAED,cAAe,CAAArB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}